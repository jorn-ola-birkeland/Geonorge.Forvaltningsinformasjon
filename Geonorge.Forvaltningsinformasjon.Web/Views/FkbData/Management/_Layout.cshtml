@using Microsoft.AspNetCore.Mvc.Localization
@using Geonorge.Forvaltningsinformasjon.Core.Abstractions.Services

@inject IViewLocalizer Localizer

@{
    ViewData["Title"] = Localizer["FKB-data"];
}

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section breadcrumb
    {
    <li><a href="~/fkb-data/management/area/counties">@Localizer["FKB-data"]</a></li>
    @RenderSection("breadcrumb")
}

<div class="row">
    <div class="col-sm-3 col-md-3">
        <div class="row">
            @Localizer["Velg en kommune eller et fylke"]
        </div>
        <div class="row">
            <form action=@Url.Action("Select", "Context", new { aspect = ViewBag.ContextViewModel.Aspect }) method="get" class="custom-select">
                <select class="form-control" name="Key" onchange="this.form.submit()">
                    <option Selected disabled>@Localizer["Velg kommune/fylke"]</option>
                    <optgroup label="Fylker">
                        @foreach (KeyValuePair<string, string> item in ViewBag.ContextViewModel.Counties)
                        {
                            if (ViewBag.ContextViewModel.SelectedKey == item.Key)
                            {
                                <option selected value="@item.Key">@item.Value</option>
                            }
                            else
                            {
                                <option value="@item.Key">@item.Value</option>
                            }
                        }
                    </optgroup>
                    <optgroup label="Kommuner">
                        @foreach (KeyValuePair<string, string> item in ViewBag.ContextViewModel.Municipalities)
                        {
                            if (ViewBag.ContextViewModel.SelectedKey == item.Key)
                            {
                                <option selected value="@item.Key">@item.Value</option>
                            }
                            else
                            {
                                <option value="@item.Key">@item.Value</option>
                            }
                        }
                    </optgroup>
                </select>
            </form>
        </div>
    </div>
    <div class="col-sm-9 col-md-9">
    </div>
</div>
<div class="row">
    <div class="col-sm-3 col-md-3">
        <div class="row">
            <a href="~/fkb-data/management/area/counties">@Localizer["Forvaltning FKB"]</a>
        </div>
        <div class="row">
            <a href="~/fkb-data/management/activity-overview/activities">@Localizer["Aktivitetsoversikt"]</a>
        </div>
    </div>
    <div class="col-sm-3 col-md-9">
        @RenderSection("fkbSection")
    </div>
</div>
